import{c as H}from"./createLucideIcon-D-niisEM.js";import{r as s}from"./index-CXcpQZ5J.js";import{c as p}from"./index-DW48STyt.js";import{c as V}from"./index-CZW1kccr.js";import{u as z}from"./index-Bd7YGvbB.js";import{c as q,a as J}from"./index-CiRIfjw3.js";import{u as Q}from"./index-CwgaEOf9.js";import{P as D}from"./index-Yg3aDjnU.js";import{u as W}from"./index-DTz3VF55.js";import{u as X}from"./index-Kvn1RAX5.js";import{j as d}from"./jsx-runtime-D_zvdyIk.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var A="rovingFocusGroup.onEntryFocus",Z={bubbles:!1,cancelable:!0},b="RovingFocusGroup",[_,G,$]=V(b),[ee,Ce]=q(b,[$]),[oe,te]=ee(b),N=s.forwardRef((e,r)=>d.jsx(_.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(_.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(re,{...e,ref:r})})}));N.displayName=b;var re=s.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:c,orientation:o,loop:F=!1,dir:g,currentTabStopId:R,defaultCurrentTabStopId:C,onCurrentTabStopIdChange:m,onEntryFocus:a,preventScrollOnEntryFocus:E=!1,...w}=e,v=s.useRef(null),I=z(r,v),t=X(g),[l=null,T]=W({prop:R,defaultProp:C,onChange:m}),[u,i]=s.useState(!1),S=J(a),k=G(c),x=s.useRef(!1),[L,h]=s.useState(0);return s.useEffect(()=>{const n=v.current;if(n)return n.addEventListener(A,S),()=>n.removeEventListener(A,S)},[S]),d.jsx(oe,{scope:c,orientation:o,dir:t,loop:F,currentTabStopId:l,onItemFocus:s.useCallback(n=>T(n),[T]),onItemShiftTab:s.useCallback(()=>i(!0),[]),onFocusableItemAdd:s.useCallback(()=>h(n=>n+1),[]),onFocusableItemRemove:s.useCallback(()=>h(n=>n-1),[]),children:d.jsx(D.div,{tabIndex:u||L===0?-1:0,"data-orientation":o,...w,ref:I,style:{outline:"none",...e.style},onMouseDown:p(e.onMouseDown,()=>{x.current=!0}),onFocus:p(e.onFocus,n=>{const M=!x.current;if(n.target===n.currentTarget&&M&&!u){const P=new CustomEvent(A,Z);if(n.currentTarget.dispatchEvent(P),!P.defaultPrevented){const y=k().filter(f=>f.focusable),U=y.find(f=>f.active),B=y.find(f=>f.id===l),Y=[U,B,...y].filter(Boolean).map(f=>f.ref.current);j(Y,E)}}x.current=!1}),onBlur:p(e.onBlur,()=>i(!1))})})}),O="RovingFocusGroupItem",K=s.forwardRef((e,r)=>{const{__scopeRovingFocusGroup:c,focusable:o=!0,active:F=!1,tabStopId:g,...R}=e,C=Q(),m=g||C,a=te(O,c),E=a.currentTabStopId===m,w=G(c),{onFocusableItemAdd:v,onFocusableItemRemove:I}=a;return s.useEffect(()=>{if(o)return v(),()=>I()},[o,v,I]),d.jsx(_.ItemSlot,{scope:c,id:m,focusable:o,active:F,children:d.jsx(D.span,{tabIndex:E?0:-1,"data-orientation":a.orientation,...R,ref:r,onMouseDown:p(e.onMouseDown,t=>{o?a.onItemFocus(m):t.preventDefault()}),onFocus:p(e.onFocus,()=>a.onItemFocus(m)),onKeyDown:p(e.onKeyDown,t=>{if(t.key==="Tab"&&t.shiftKey){a.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const l=ce(t,a.orientation,a.dir);if(l!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)return;t.preventDefault();let u=w().filter(i=>i.focusable).map(i=>i.ref.current);if(l==="last")u.reverse();else if(l==="prev"||l==="next"){l==="prev"&&u.reverse();const i=u.indexOf(t.currentTarget);u=a.loop?ae(u,i+1):u.slice(i+1)}setTimeout(()=>j(u))}})})})});K.displayName=O;var ne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function se(e,r){return r!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ce(e,r,c){const o=se(e.key,c);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ne[o]}function j(e,r=!1){const c=document.activeElement;for(const o of e)if(o===c||(o.focus({preventScroll:r}),document.activeElement!==c))return}function ae(e,r){return e.map((c,o)=>e[(r+o)%e.length])}var Ee=N,we=K;export{Re as C,we as I,Ee as R,Ce as c};
